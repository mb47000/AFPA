<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<label for="">Entrez votre texte</label>
<input type="text" id="valtxt">
<button id="code">Coder</button><button id="decode">Décoder</button>
<div>
    <span id="resCode"></span><br />
    <span id="resDecode"></span><br />
    <span>Clé </span> <select name="" id="cle">
        <option value="0">0</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
    </select>
</div>

<body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
        $(function () {
            var codage;
            var codeD;

            // Bouton codage
            $("#code").click(function () {
                codage = true;
                $("#resCode").html("Message Codé:" + cesar($("#valtxt").val(), parseInt($("#cle")
                    .val())), codeD);
            });
            // Bouton décodage
            $("#decode").click(function () {
                codage = false;
                $("#resDecode").html("Message décodé:" + cesar($("#valtxt").val(), parseInt($("#cle")
                    .val())), codeD);
            });
            //fonction cesar
            function cesar(str, amount, codeD) {
                var res = '';
                for (var i = 0; i < str.length; i++) {
                    var c = str[i];
                    if (c.match(/[a-z]/i)) {
                        var code = str.charCodeAt(i);
                        codage ? codeD = [(code - 65 + amount) % 26 + 65, (code - 97 + amount) % 26 + 97] :
                            codeD = [((code - 39 - amount) % 26) + 65, ((code - 45 - amount) % 26) + 97];
                        if ((code >= 65) && (code <= 90)) {
                            res += String.fromCharCode(codeD[0]);
                        } else if ((code >= 97) && (code <= 122)) {
                            res += String.fromCharCode(codeD[1]);
                        }
                    }
                }
                // Résultat
                return res;
            };
        });
    </script>
</body>

</html>